(this["webpackJsonpevent-organizer"]=this["webpackJsonpevent-organizer"]||[]).push([[0],{151:function(e,t,a){e.exports=a(284)},156:function(e,t,a){},157:function(e,t,a){},278:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),s=a(48),i=(a(156),a(37)),u=a(33),o=a(11),d=a(294),m=a(285),v=a(295),p=(a(157),function(e){var t=e.event,a=e.addExtraService,c=e.currentEventIndex,l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],u=s[1],p=Object(n.useState)(!1),b=Object(o.a)(p,2),E=b[0],f=b[1],y=Object(n.useState)(!1),g=Object(o.a)(y,2),O=g[0],h=g[1],j=Object(n.useState)(!1),N=Object(o.a)(j,2),A=N[0],w=N[1];return r.a.createElement("div",null,r.a.createElement(d.a,{hidden:!0}),r.a.createElement(m.a,{content:i?"Cancel":"Order extra services",onClick:function(){return u(!i)},className:"services-btn"}),r.a.createElement("div",{hidden:!i,className:"checkboxes"},t.securityAssistanceAdded?null:r.a.createElement(v.a,{checked:E,onChange:function(){return f(!E)},label:r.a.createElement("label",null,"Security assistance")}),t.medicalAssistanceAdded?null:r.a.createElement(v.a,{checked:O,onChange:function(){return h(!O)},label:r.a.createElement("label",null,"Medical assistance")}),t.govApprovalAdded?null:r.a.createElement(v.a,{checked:A,onChange:function(){return w(!A)},label:r.a.createElement("label",null,"Gov approval")}),r.a.createElement(m.a,{onClick:function(){E&&a(c,"securityAssistance"),O&&a(c,"medicalAssistance"),A&&a(c,"govApproval"),u(!i)},className:"services-btn"},"Submit")))});a(278);var b=function(e){var t,a,n=e.event,c=e.events,l=e.addExtraService,s=c.findIndex((function(e){return e.id===n.id}));return("public"===n.eventType||n.peopleNumber>20)&&!n.securityAssistanceAdded&&l(s,"securityAssistance"),("public"===n.eventType||n.peopleNumber>50)&&!n.medicalAssistanceAdded&&l(s,"medicalAssistance"),"public"!==n.eventType&&(t=k(n.startDatetime),a=k(n.endDatetime),[t.getDay(),a.getDay()].every((function(e){return 0===e||6===e})))||n.govApprovalAdded||l(s,"govApproval"),r.a.createElement("div",{className:"orders"},n.securityAssistanceAdded?r.a.createElement("pre",null,r.a.createElement("span",{className:"checkmark"},"\u2713")," Security assistance"):null,n.medicalAssistanceAdded?r.a.createElement("pre",null,r.a.createElement("span",{className:"checkmark"},"\u2713")," Medical assistance"):null,n.govApprovalAdded?r.a.createElement("pre",null,r.a.createElement("span",{className:"checkmark"},"\u2713")," Gov approval"):null,n.securityAssistanceAdded&&n.medicalAssistanceAdded&&n.govApprovalAdded?null:r.a.createElement(p,{events:c,event:n,addExtraService:l,currentEventIndex:s}))},E=a(35),f=a(25),y=a(75);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={events:JSON.parse(localStorage.getItem("events"))||[{id:1,name:"Business conference",address:"Richmond, VA",peopleNumber:18,eventType:"private",startDatetime:"2019-11-30",endDatetime:"2019-12-01"},{id:2,name:"Business conference",address:"Richmond, VA",peopleNumber:18,eventType:"public",startDatetime:"2019-10-30",endDatetime:"2019-11-03"},{id:3,name:"Family reunion",address:"New York, NY",peopleNumber:21,eventType:"private",startDatetime:"2019-11-27",endDatetime:"2019-11-28"},{id:4,name:"Family reunion",address:"New York, NY",peopleNumber:51,eventType:"private",startDatetime:"2019-11-30",endDatetime:"2019-12-01"},{id:5,name:"Family reunion",address:"New York, NY",peopleNumber:19,eventType:"private",startDatetime:"2019-11-29",endDatetime:"2019-12-01"}],eventTypes:JSON.parse(localStorage.getItem("eventTypes"))||[{id:1,name:"public"},{id:2,name:"private"}]},j="ADD_EVENT",N="ADD-EXTRA-SERVICE",A="ADD_EVENT_TYPE",w=function(e){return e.events},S=function(e){return e.eventTypes};var D=Object(y.b)((function(e,t){switch(t.type){case j:return O({},e,{events:[].concat(Object(u.a)(e.events),[t.newEvent])});case A:return O({},e,{eventTypes:[].concat(Object(u.a)(e.eventTypes),[t.newEventType])});case N:var a=Object(u.a)(e.events);return a[t.eventIndex]["".concat(t.service,"Added")]=!0,O({},e,{events:a});default:return e}}),h);D.subscribe((function(){var e=D.getState(),t=e.events,a=e.eventTypes;localStorage.setItem("events",JSON.stringify(t)),localStorage.setItem("eventTypes",JSON.stringify(a))}));var T=D,_=Object(E.b)((function(e){return{events:w(e)}}),(function(e){return{addExtraService:function(t,a){return e(function(e,t){return{type:N,eventIndex:e,service:t}}(t,a))}}}))(b),k=(a(280),function(e){var t=e.split("-"),a=Object(o.a)(t,3),n=a[0],r=a[1],c=a[2];return new Date(n,r-1,c)}),C=function(e){var t=e.split("-"),a=Object(o.a)(t,3),n=a[0],r=a[1],c=a[2];return"".concat(r,"/").concat(c,"/").concat(n)},x=function(e){var t=e.event,a=C(t.startDatetime),n=C(t.endDatetime);return r.a.createElement("li",{className:"event-item"},r.a.createElement("div",{className:"event-item__head"},r.a.createElement("h2",{className:"event-item__heading"},t.name),r.a.createElement("span",null,new Date<k(t.endDatetime)?"Open":"Closed")),r.a.createElement("p",null,r.a.createElement("strong",null,"Event type:")," ",t.eventType),r.a.createElement("pre",null,a," - ",n,"  \u2022  ",t.address),r.a.createElement("p",{className:"event-item__attendees-info"},t.peopleNumber," people are going"),r.a.createElement(_,{event:t}))},I=a(36),P=a(296),q=(a(281),function(e){var t=e.events,a=Object(I.d)(),c=Object(n.useState)(!1),l=Object(o.a)(c,2),s=l[0],i=l[1],p=Object(n.useState)(!1),b=Object(o.a)(p,2),E=b[0],f=b[1],y=Object(n.useState)(""),g=Object(o.a)(y,2),O=g[0],h=g[1],j=Object(n.useState)(""),N=Object(o.a)(j,2),A=N[0],w=N[1],S=Object(u.a)(t);s?(O&&(S=Object(u.a)(S).filter((function(e){return k(e.endDatetime)>=k(O)}))),A&&(S=Object(u.a)(S).filter((function(e){return k(e.startDatetime)<=k(A)}))),E&&(S=Object(u.a)(S).filter((function(e){return[e.securityAssistanceAdded,e.medicalAssistanceAdded,e.govApprovalAdded].some((function(e){return e}))})))):(O&&h(""),A&&w(""),E&&f(!E));return r.a.createElement("main",{className:"main-content"},r.a.createElement(d.a,{hidden:!0}),r.a.createElement(m.a,{content:s?"Hide filter":"Filter events",onClick:function(){return i(!s)}}),r.a.createElement("div",{hidden:!s},r.a.createElement("div",{className:"date-picker"},r.a.createElement("label",null,"From: ",r.a.createElement("br",null),r.a.createElement(P.a,{type:"date",value:O,onChange:function(e){return h(e.target.value)},required:!0})),r.a.createElement("label",null,"To: ",r.a.createElement("br",null),r.a.createElement(P.a,{type:"date",value:A,onChange:function(e){return function(e){e.target.value>=O?w(e.target.value):a.show("Event cannot end before it was started")}(e)},required:!0}))),r.a.createElement(v.a,{checked:E,onChange:function(){return f(!E)},label:r.a.createElement("label",null,"Show events with orders only")})),r.a.createElement(d.a,{hidden:!0}),r.a.createElement("ul",{className:"event-list"},S.map((function(e){return r.a.createElement(x,{key:e.id,event:e})}))))}),Y=Object(E.b)((function(e){return{events:w(e)}}))(q),F=(a(282),function(e){var t=e.addEvent,a=e.events,c=e.eventTypes,l=e.addEventType,s=Object(I.d)(),i=Object(n.useState)(!1),u=Object(o.a)(i,2),d=u[0],v=u[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),E=b[0],f=b[1],y=Object(n.useState)(""),g=Object(o.a)(y,2),O=g[0],h=g[1],j=Object(n.useState)(""),N=Object(o.a)(j,2),A=N[0],w=N[1],S=Object(n.useState)(""),D=Object(o.a)(S,2),T=D[0],_=D[1],k=Object(n.useState)(""),C=Object(o.a)(k,2),x=C[0],q=C[1],Y=Object(n.useState)(""),F=Object(o.a)(Y,2),J=F[0],R=F[1],V=Object(n.useState)(""),B=Object(o.a)(V,2),H=B[0],M=B[1];"Add new event type"!==T||d||v(!d);var z=function(e){e.preventDefault(),d?(H&&(l({id:c[c.length-1].id+1,name:H.toLowerCase()}),M(""),s.show("Event type was added successfully!")),v(!d),_("")):(t({id:a[a.length-1].id+1,name:E,address:O,peopleNumber:+A,eventType:T,startDatetime:x,endDatetime:J}),s.show("Event was added successfully!"),f(""),h(""),w(""),_(""),q(""),R(""))},L=function(e){(function(){var e=new Date,t=e.getMonth()+1,a=e.getDate(),n=e.getFullYear();return"".concat(n,"-").concat(t.toString().padStart(2,"0"),"-").concat(a.toString().padStart(2,"0"))})()<=e.target.value?q(e.target.value):(s.show("Choose valid date"),q(""))};return r.a.createElement("main",null,r.a.createElement("form",{className:"create-event-form",onSubmit:function(e){return z(e)}},r.a.createElement(P.a,{type:"text",value:E,onChange:function(e){return f(e.target.value)},placeholder:"Event name",disabled:d,required:!0}),r.a.createElement(P.a,{type:"text",value:O,onChange:function(e){return h(e.target.value)},placeholder:"Location",disabled:d,required:!0}),d?r.a.createElement(P.a,{type:"text",value:H,onChange:function(e){(e.target.value.match(/\b[a-z]+\b/i)||!e.target.value)&&e.target.value.length<=15?M(e.target.value):s.show("Event type must contain one word of no more than 15 letters")},placeholder:"New type name"}):r.a.createElement("select",{className:"types-dropdown",style:{color:T?"":"#cdc9c9"},value:T,onChange:function(e){_(e.target.value)},required:!0},r.a.createElement("option",{value:"",hidden:!0},"Select event type"),c.map((function(e){return r.a.createElement("option",{value:e.name,className:"types-dropdown__option",key:e.id},e.name.charAt(0).toUpperCase()+e.name.substring(1))})),r.a.createElement("option",{className:"types-dropdown__option types-dropdown__option_add"},"Add new event type")),r.a.createElement(P.a,{type:"number",value:A,onChange:function(e){return+e.target.value>0?w(e.target.value):w("")},placeholder:"How many people will attend?",disabled:d,required:!0}),r.a.createElement("div",{className:"date-picker"},r.a.createElement("label",null,"Event starts: ",r.a.createElement("br",null),r.a.createElement(P.a,{type:"date",value:x,onChange:function(e){return L(e)},disabled:d,required:!0})),r.a.createElement("label",null,"Event ends: ",r.a.createElement("br",null),r.a.createElement(P.a,{type:"date",value:J,onChange:function(e){return function(e){e.target.value>=x?R(e.target.value):s.show("Event cannot end before it was started")}(e)},disabled:d,required:!0}))),r.a.createElement(m.a,{type:"submit",className:"create-event-form__submit-btn"},"Submit")))}),J=Object(E.b)((function(e){return{events:w(e),eventTypes:S(e)}}),(function(e){return{addEvent:function(t){return e({type:j,newEvent:t})},addEventType:function(t){return e({type:A,newEventType:t})}}}))(F);var R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",{className:"menu-list__item"},r.a.createElement(s.b,{className:"menu-list__link",to:"/",exact:!0},"Home")),r.a.createElement("li",{className:"menu-list__item"},r.a.createElement(s.b,{className:"menu-list__link",to:"/events"},"Events")),r.a.createElement("li",{className:"menu-list__item"},r.a.createElement(s.b,{className:"menu-list__link",to:"/new-event"},"Create a new event"))))),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",render:function(){return r.a.createElement("h1",{style:{textAlign:"center"}},"Home page")}}),r.a.createElement(i.a,{path:"/events",component:Y}),r.a.createElement(i.a,{path:"/new-event",component:J})))},V=a(142),B={position:I.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:I.c.SCALE};l.a.render(r.a.createElement(E.a,{store:T},r.a.createElement(I.a,Object.assign({template:V.a},B),r.a.createElement(s.a,null,r.a.createElement(R,null)))),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.b4431247.chunk.js.map